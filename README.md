<h1 align="center">
  <br>
  API для взаимодействия с социальной сетью Yatube.
  <br>
</h1>

<p align="center">
  API для управления постами и комментариями, с использованием JWT для аутентификации.
</p>

___
# Описание
<h2 align="center">
  <br>
  Через API пользователи могут:
  <br>
</h2>
<div align="center">
  <p style="font-size: 18px;">
    - Создавать, изменять и удалять посты
    <br>
    - Получать списки постов и конкретного поста по id
    <br>
    - Получать список групп и конкретной группы по id
    <br>
    - Создавать, изменять, удалять комментарии
    <br>
    - Подписываться на других пользователей
  </p>
</div>

___

# Установка
1. Склонируйте репозиторий:
```
   git clone git@github.com:your-username/api_final_yatube.git
```
2. Перейдите в директорию проекта:
```
cd api_final_yatube
```
3. Создайте виртуальное окружение:
```
python -m venv venv
```
4. Активируйте виртуальное окружение:
* На Windows:
```
venv\Scripts\activate
```
* На macOS/Linux:
```
source venv/bin/activate
```
5. Установите зависимости:
```
pip install -r requirements.txt
```
6. Выполните миграции базы данных:
```
python manage.py migrate
```
7. Запустите сервер:
```
python manage.py runserver
```

<h2 align="center">
  <br>
  Эндпоинты API
  <br>
</h2>

---

### Аутентификация и JWT-токены

- **`POST /api/v1/api-token-auth/`** — Получение токена для аутентификации.
- **`POST /api/v1/jwt/create/`** — Получение JWT-токена по имени пользователя и паролю.
- **`POST /api/v1/jwt/refresh/`** — Обновление JWT-токена.
- **`POST /api/v1/jwt/verify/`** — Проверка валидности JWT-токена.

---

### Посты

- **`GET /api/v1/posts/`** — Получение списка всех постов.
- **`POST /api/v1/posts/`** — Создание нового поста (только для аутентифицированных пользователей).

- **`GET /api/v1/posts/{post_id}/`** — Получение деталей конкретного поста.
- **`PUT /api/v1/posts/{post_id}/`** — Полное обновление поста (только для автора поста).
- **`PATCH /api/v1/posts/{post_id}/`** — Частичное обновление поста (только для автора поста).
- **`DELETE /api/v1/posts/{post_id}/`** — Удаление поста (только для автора поста).

---

### Комментарии

- **`GET /api/v1/posts/{post_id}/comments/`** — Получение списка комментариев для конкретного поста.
- **`POST /api/v1/posts/{post_id}/comments/`** — Создание нового комментария к посту.

- **`GET /api/v1/posts/{post_id}/comments/{comment_id}/`** — Получение деталей конкретного комментария.
- **`PUT /api/v1/posts/{post_id}/comments/{comment_id}/`** — Полное обновление комментария (только для автора комментария).
- **`PATCH /api/v1/posts/{post_id}/comments/{comment_id}/`** — Частичное обновление комментария (только для автора комментария).
- **`DELETE /api/v1/posts/{post_id}/comments/{comment_id}/`** — Удаление комментария (только для автора комментария).

---

### Группы

- **`GET /api/v1/groups/`** — Получение списка всех групп.
- **`GET /api/v1/groups/{group_id}/`** — Получение деталей конкретной группы.

---

### Подписки

- **`GET /api/v1/follow/`** — Получение списка подписок текущего пользователя.
- **`POST /api/v1/follow/`** — Подписка на пользователя.

---

<p>
  Эти эндпоинты позволяют пользователям взаимодействовать с постами, комментариями, группами и подписками, а также управлять JWT-токенами для аутентификации.
</p>

# Примеры запросов к API

* Получение всех постов:

```
GET /api/v1/posts/
```

* Создание нового поста:

```
POST /api/v1/posts/
{
    "text": "Это новый пост",
    "group": 1
}
```

* Получение списка комментариев к посту:

```
GET /api/v1/posts/{post_id}/comments/
```

* Создание комментария к посту:

```
POST /api/v1/posts/{post_id}/comments/
{
    "text": "Отличный пост!"
}
```

* Подписка на пользователя:

```
POST /api/v1/follow/
{
    "following": "username"
}
```
___
### Документация доступна по адресу: /redoc/ после запуска сервера.
